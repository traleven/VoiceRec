<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Opus: Generic CTLs</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 64px;">
  <td style="padding-left: 0.5em;">
  <div id="projectname"><img src="opus_logo.svg" width=112 height=64 alt="Opus"/><!--Opus--></div>
  </td>
  <td><table style="padding-left: 0.5em;" cellspacing="0" cellpadding="0"><tbody>
   <tr><td>
   <div id="projectbrief">Opus audio codec (RFC 6716): API and operations manual</div>
   </td></tr>
  <td><span id="projectnumber">1.3-19-g3765a24</span>
   </td></tr>
   </table>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">Generic CTLs</div>  </div>
</div><!--header-->
<div class="contents">

<p>These macros are used with the <code>opus_decoder_ctl</code> and <code>opus_encoder_ctl</code> calls to generate a particular request.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gadc74e4fa8bcdf9994187d52d92207337"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opus__genericctls.html#gadc74e4fa8bcdf9994187d52d92207337">OPUS_RESET_STATE</a></td></tr>
<tr class="memdesc:gadc74e4fa8bcdf9994187d52d92207337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the codec state to be equivalent to a freshly initialized state.  <a href="#gadc74e4fa8bcdf9994187d52d92207337">More...</a><br /></td></tr>
<tr class="separator:gadc74e4fa8bcdf9994187d52d92207337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1108a508aa475f964d247c1b04d26d89"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opus__genericctls.html#ga1108a508aa475f964d247c1b04d26d89">OPUS_GET_FINAL_RANGE</a>(x)</td></tr>
<tr class="memdesc:ga1108a508aa475f964d247c1b04d26d89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the final state of the codec's entropy coder.  <a href="#ga1108a508aa475f964d247c1b04d26d89">More...</a><br /></td></tr>
<tr class="separator:ga1108a508aa475f964d247c1b04d26d89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29db1d9b5e670debec54d1163ad2ec62"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opus__genericctls.html#ga29db1d9b5e670debec54d1163ad2ec62">OPUS_GET_BANDWIDTH</a>(x)</td></tr>
<tr class="memdesc:ga29db1d9b5e670debec54d1163ad2ec62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the encoder's configured bandpass or the decoder's last bandpass.  <a href="#ga29db1d9b5e670debec54d1163ad2ec62">More...</a><br /></td></tr>
<tr class="separator:ga29db1d9b5e670debec54d1163ad2ec62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8ad425424211faae6a0fbfb7c28bb51"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opus__genericctls.html#gac8ad425424211faae6a0fbfb7c28bb51">OPUS_GET_SAMPLE_RATE</a>(x)</td></tr>
<tr class="memdesc:gac8ad425424211faae6a0fbfb7c28bb51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the sampling rate the encoder or decoder was initialized with.  <a href="#gac8ad425424211faae6a0fbfb7c28bb51">More...</a><br /></td></tr>
<tr class="separator:gac8ad425424211faae6a0fbfb7c28bb51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10fa1f6eab136baf83c232afa989b6a8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opus__genericctls.html#ga10fa1f6eab136baf83c232afa989b6a8">OPUS_SET_PHASE_INVERSION_DISABLED</a>(x)</td></tr>
<tr class="memdesc:ga10fa1f6eab136baf83c232afa989b6a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">If set to 1, disables the use of phase inversion for intensity stereo, improving the quality of mono downmixes, but slightly reducing normal stereo quality.  <a href="#ga10fa1f6eab136baf83c232afa989b6a8">More...</a><br /></td></tr>
<tr class="separator:ga10fa1f6eab136baf83c232afa989b6a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9ad2f51fe4fe086f35e881682c4c247"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__opus__genericctls.html#gae9ad2f51fe4fe086f35e881682c4c247">OPUS_GET_PHASE_INVERSION_DISABLED</a>(x)</td></tr>
<tr class="memdesc:gae9ad2f51fe4fe086f35e881682c4c247"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the encoder's configured phase inversion status.  <a href="#gae9ad2f51fe4fe086f35e881682c4c247">More...</a><br /></td></tr>
<tr class="separator:gae9ad2f51fe4fe086f35e881682c4c247"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>These macros are used with the <code>opus_decoder_ctl</code> and <code>opus_encoder_ctl</code> calls to generate a particular request. </p>
<p>When called on an <code>OpusDecoder</code> they apply to that particular decoder instance. When called on an <code>OpusEncoder</code> they apply to the corresponding setting on that encoder instance, if present.</p>
<p>Some usage examples:</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> ret;</div><div class="line"><a class="code" href="opus__types_8h.html#aa4d309d6f80b99dbabebc8f98879ab9a">opus_int32</a> pitch;</div><div class="line">ret = <a class="code" href="group__opus__decoder.html#ga2d492844b4f66e7f34d85870f13d4846">opus_decoder_ctl</a>(dec_ctx, <a class="code" href="group__opus__decoderctls.html#gaa89fc25eb35fc31a02b508562dd83820">OPUS_GET_PITCH</a>(&amp;pitch));</div><div class="line"><span class="keywordflow">if</span> (ret == <a class="code" href="group__opus__errorcodes.html#gaa44cf8a185e1b5cb940ef63eb4f02d21">OPUS_OK</a>) <span class="keywordflow">return</span> ret;</div><div class="line"></div><div class="line"><a class="code" href="group__opus__encoder.html#ga164cbb0425238961919adf1db67949df">opus_encoder_ctl</a>(enc_ctx, <a class="code" href="group__opus__genericctls.html#gadc74e4fa8bcdf9994187d52d92207337">OPUS_RESET_STATE</a>);</div><div class="line"><a class="code" href="group__opus__decoder.html#ga2d492844b4f66e7f34d85870f13d4846">opus_decoder_ctl</a>(dec_ctx, <a class="code" href="group__opus__genericctls.html#gadc74e4fa8bcdf9994187d52d92207337">OPUS_RESET_STATE</a>);</div><div class="line"></div><div class="line"><a class="code" href="opus__types_8h.html#aa4d309d6f80b99dbabebc8f98879ab9a">opus_int32</a> enc_bw, dec_bw;</div><div class="line"><a class="code" href="group__opus__encoder.html#ga164cbb0425238961919adf1db67949df">opus_encoder_ctl</a>(enc_ctx, <a class="code" href="group__opus__genericctls.html#ga29db1d9b5e670debec54d1163ad2ec62">OPUS_GET_BANDWIDTH</a>(&amp;enc_bw));</div><div class="line"><a class="code" href="group__opus__decoder.html#ga2d492844b4f66e7f34d85870f13d4846">opus_decoder_ctl</a>(dec_ctx, <a class="code" href="group__opus__genericctls.html#ga29db1d9b5e670debec54d1163ad2ec62">OPUS_GET_BANDWIDTH</a>(&amp;dec_bw));</div><div class="line"><span class="keywordflow">if</span> (enc_bw != dec_bw) {</div><div class="line">  printf(<span class="stringliteral">&quot;packet bandwidth mismatch!\n&quot;</span>);</div><div class="line">}</div></div><!-- fragment --><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__opus__encoder.html" title="This page describes the process and functions used to encode Opus. ">Opus Encoder</a>, <a class="el" href="group__opus__decoder.html#ga2d492844b4f66e7f34d85870f13d4846" title="Perform a CTL function on an Opus decoder. ">opus_decoder_ctl</a>, <a class="el" href="group__opus__encoder.html#ga164cbb0425238961919adf1db67949df" title="Perform a CTL function on an Opus encoder. ">opus_encoder_ctl</a>, <a class="el" href="group__opus__decoderctls.html">Decoder related CTLs</a>, <a class="el" href="group__opus__encoderctls.html" title="These are convenience macros for use with the opus_encode_ctl interface. ">Encoder related CTLs</a> </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga29db1d9b5e670debec54d1163ad2ec62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29db1d9b5e670debec54d1163ad2ec62">&#9670;&nbsp;</a></span>OPUS_GET_BANDWIDTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPUS_GET_BANDWIDTH</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the encoder's configured bandpass or the decoder's last bandpass. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__opus__encoderctls.html#ga0178dabe5526d5b0667d81489cc93791" title="Sets the encoder&#39;s bandpass to a specific value. ">OPUS_SET_BANDWIDTH</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">x</td><td><code>opus_int32 *</code>: Returns one of the following values: <dl>
<dt><a class="el" href="group__opus__ctlvalues.html#ga1c5b3244b018ff4548d2d6bffa418472" title="Auto/default setting. ">OPUS_AUTO</a> </dt>
<dd>(default) </dd>
<dt><a class="el" href="group__opus__ctlvalues.html#ga607dd310958b9c7d545d005e4572d47f" title="4 kHz bandpass ">OPUS_BANDWIDTH_NARROWBAND</a> </dt>
<dd>4 kHz passband </dd>
<dt><a class="el" href="group__opus__ctlvalues.html#ga53a2aff4dc0ee23682927ca568c422a3" title="6 kHz bandpass ">OPUS_BANDWIDTH_MEDIUMBAND</a> </dt>
<dd>6 kHz passband </dd>
<dt><a class="el" href="group__opus__ctlvalues.html#gac698e5d1281a3632251d2a4ead48afb9" title="8 kHz bandpass ">OPUS_BANDWIDTH_WIDEBAND</a> </dt>
<dd>8 kHz passband </dd>
<dt><a class="el" href="group__opus__ctlvalues.html#ga41f86df35af0033a7361895da88671c1" title="12 kHz bandpass ">OPUS_BANDWIDTH_SUPERWIDEBAND</a></dt>
<dd>12 kHz passband </dd>
<dt><a class="el" href="group__opus__ctlvalues.html#ga74cb052d8ec36cbcc9708c417558ebdd" title="20 kHz bandpass ">OPUS_BANDWIDTH_FULLBAND</a> </dt>
<dd>20 kHz passband </dd>
</dl>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga1108a508aa475f964d247c1b04d26d89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1108a508aa475f964d247c1b04d26d89">&#9670;&nbsp;</a></span>OPUS_GET_FINAL_RANGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPUS_GET_FINAL_RANGE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the final state of the codec's entropy coder. </p>
<p>This is used for testing purposes, The encoder and decoder state should be identical after coding a payload (assuming no data corruption or software bugs)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">x</td><td><code>opus_uint32 *</code>: Entropy coder state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae9ad2f51fe4fe086f35e881682c4c247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae9ad2f51fe4fe086f35e881682c4c247">&#9670;&nbsp;</a></span>OPUS_GET_PHASE_INVERSION_DISABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPUS_GET_PHASE_INVERSION_DISABLED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the encoder's configured phase inversion status. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__opus__genericctls.html#ga10fa1f6eab136baf83c232afa989b6a8" title="If set to 1, disables the use of phase inversion for intensity stereo, improving the quality of mono ...">OPUS_SET_PHASE_INVERSION_DISABLED</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">x</td><td><code>opus_int32 *</code>: Returns one of the following values: <dl>
<dt>0</dt>
<dd>Stereo phase inversion enabled (default). </dd>
<dt>1</dt>
<dd>Stereo phase inversion disabled. </dd>
</dl>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac8ad425424211faae6a0fbfb7c28bb51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8ad425424211faae6a0fbfb7c28bb51">&#9670;&nbsp;</a></span>OPUS_GET_SAMPLE_RATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPUS_GET_SAMPLE_RATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the sampling rate the encoder or decoder was initialized with. </p>
<p>This simply returns the <code>Fs</code> value passed to <a class="el" href="group__opus__encoder.html#ga515db1c267a7421dacaad3610f79eb79" title="Initializes a previously allocated encoder state The memory pointed to by st must be at least the siz...">opus_encoder_init()</a> or <a class="el" href="group__opus__decoder.html#ga939156d1f561c4273d5c62fa9c235a01" title="Initializes a previously allocated decoder state. ">opus_decoder_init()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">x</td><td><code>opus_int32 *</code>: Sampling rate of encoder or decoder. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadc74e4fa8bcdf9994187d52d92207337"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc74e4fa8bcdf9994187d52d92207337">&#9670;&nbsp;</a></span>OPUS_RESET_STATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPUS_RESET_STATE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Resets the codec state to be equivalent to a freshly initialized state. </p>
<p>This should be called when switching streams in order to prevent the back to back decoding from giving different results from one at a time decoding. </p>

</div>
</div>
<a id="ga10fa1f6eab136baf83c232afa989b6a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10fa1f6eab136baf83c232afa989b6a8">&#9670;&nbsp;</a></span>OPUS_SET_PHASE_INVERSION_DISABLED</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OPUS_SET_PHASE_INVERSION_DISABLED</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">x</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If set to 1, disables the use of phase inversion for intensity stereo, improving the quality of mono downmixes, but slightly reducing normal stereo quality. </p>
<p>Disabling phase inversion in the decoder does not comply with RFC 6716, although it does not cause any interoperability issue and is expected to become part of the Opus standard once RFC 6716 is updated by draft-ietf-codec-opus-update. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="group__opus__genericctls.html#gae9ad2f51fe4fe086f35e881682c4c247" title="Gets the encoder&#39;s configured phase inversion status. ">OPUS_GET_PHASE_INVERSION_DISABLED</a> </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td><code>opus_int32</code>: Allowed values: <dl>
<dt>0</dt>
<dd>Enable phase inversion (default). </dd>
<dt>1</dt>
<dd>Disable phase inversion. </dd>
</dl>
</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->

<hr class="footer"/>
<table width="100%">
  <tbody>
    <tr>
      <td>
For more information visit the <a href="https://opus-codec.org">Opus Website</a>.
      </td>
      <td>
        <address class="footer"><small>
          Generated by
          <a href="https://www.stack.nl/~dimitri/doxygen/">doxygen</a>
          1.8.14
        </small></address>
      </td>
    </tr>
  </tbody>
</table>
</body>
</html>
